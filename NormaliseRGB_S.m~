function [ normRGBIm, intesityRGBIm ] = NormaliseRGB_S( Imback, vis_flag )
%NORMALISERGB_S Summary of this function goes here
%   Detailed explanation goes here

[MR,MC,Dim] = size(Im);

normRGBIm = zeros(MR,MC,Dim);
intesityRGBIm = int8(zeros(MR,MC));
for i=1:MR 
  for j=1:MC
      RGB = sum(Imback(i,j,:));
      for k=1:3
            normRGBIm(i,j,k) = double(Imback(i,j,k))/RGB; 
      end
      intesityRGBIm(i,j) = int8(RGB/3);          
  end
end


if vis_flag > 0
    figure(vis_flag)
    clf
    %imshow(normRGBImback(:,:,:))
    imshow(intesityRGBIm)
end


end

